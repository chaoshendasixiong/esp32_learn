# 红白游戏掌机

看到网上有大佬diy esp32 的红白游戏掌机，这里学习下

## FC手柄控制

时序图

![fc_hand][link1]

实际测试发现如果长按right键 data会一直触发低电平 影响到A键的读取

因此多加个时钟周期来屏蔽，总共8个时钟周期

















[link1]:data:image/jpg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wBDACgcHiMeGSgjISMtKygwPGRBPDc3PHtYXUlkkYCZlo+AjIqgtObDoKrarYqMyP/L2u71////m8H////6/+b9//j/2wBDASstLTw1PHZBQXb4pYyl+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj4+Pj/wAARCAEQAfQDASIAAhEBAxEB/8QAGgABAAMBAQEAAAAAAAAAAAAAAAECAwQFBv/EAEAQAAIBAgMGBAIHBwMDBQAAAAABAgMRBBLREyExUpGSQVFTcSJhFCMyM4GTsQU0QnKhssFiguEV8PFEc6LS4v/EABUBAQEAAAAAAAAAAAAAAAAAAAAB/8QAFhEBAQEAAAAAAAAAAAAAAAAAABEh/9oADAMBAAIRAxEAPwD15yjCLlJ2iuLKzqwhDNJ7m0k+PHgVxEpQoTlFRdk21LgcFaKlSjJxX3ed2gklZXVnbh4Aem5xSbclZcXfgZLFUHKMVVg3J2STvcrhacoJtzVmk8iill6HBRTtRUpSj8E8t3lV7rhZ3A9gi68ziwVqlSpWjmytKKu2/fj8/wBDnhBvEQcYpPa1LSVrvjuA9LaQ2uzzfHbNb5FpTjH7UkvdnDRUquLU3Oor0k7NJPjwZNaKf7RblnsqS+zG/iwOiOKoShnVSKXjd2sXnWp03FTmo5uF/E8+Mvjk6jq2pytaMPtvw8N3sa4qVquGavG+ZcN63eXmB0/SqFr7aDXyZeE41IKcHeMldM8yglTnJSVb4ItQjdvKvmvP+h34T9zo/wAi/QDcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABnVhtKU4XtmTVzk+hOcNlNvLuUp33y9lwSOurNxheKTd0lf5uxW+I5aXV6AUo4fJGcZKNpbk43Ta+ZnLCKNSm6EYQUU1d72r23o3viOWn1egviOWl1egFKOHlQnanP6p73GW9p+aYhhIQqxqZpuUZSkt+7f8vxL3xHLT6vQXxHLT6vQCsKdT6TKrNwtlyq178S0KbVSpN2zS3L5JcBfEctPq9BfEctPq9AK0KU4yqyqON5yv8PtYV6c51aU4OKyXvm+aLXxHLT6vQXxHLT6vQDJYarFycZxWZWt8Vv1NsPB0sPTpyabjFJtEXxHLT6vQm+I5aXc9ANQY3xHLS6vQXxHLS6vQDYGN8Ry0ur0JviOWl3PQDUGN8Ry0ur0F8Ry0ur0A2BjfEctLq9BfEctLq9ANgY3xHLS6vQXxHLS6vQDYGN8Ry0ur0F8Ry0ur0A2BjfEctLq9BfEctLq9ANgY3xHLS6vQXxHLS6vQDYGN8Ry0ur0F8Ry0ur0A2BjfEctLq9BfEctLq9ANgZXxHLS7noRfEctLq9ANgY3xHLS6vQXxHLS6vQDYGN8Ry0ur0JviOWl3PQDUGN8Ry0ur0F8Ry0ur0A2BjfEctLq9BfEctLq9ANgY3r8tPq9BfEctLq9ANgY3xHLS6vQXxHLS6vQDYGN8Ry0ur0F8Ry0ur0A2BjfEctLq9BfEctLq9ANgY3xHLS6vQXxHLS6vQDYGN8Ry0ur0JviOWl3PQDUGN8Ry0ur0F8Ry0ur0A2BjfEctLq9Cb4jlpdz0A1BlfEctLuehF8Ry0ur0A2BjfEctLq9Cb4jlpdz0A1BnRm6lKM2rNrgAIxH3S/nj/cjUyxH3S/mj/chGpeVRNWUGv0uBqDD6RDNa0krNttWta3HqQ8RFTimmk03dp7t61A6AAAAAAAzrNqjNp2ai2n+AGhjHN9IndtxcVbyXErGi3FPbVeHN/wAFtg/Vq9wGwOdQyV4RzzkpRluk7+R0AACFwAwrNqUFFzTb8E7L3N0TYh+4EgAAZVvu3vkv5b/43mn8TJApSzbKOe+a2+5ceBC4ICQCPFARPNleVXdtyMsM5ul9YnmzPj7m4AAheJIAEPgSBzUs+1qXzNebukvl/wCDpFiPECQAAOVup9J8XHda1/x+R0r7KJsAQIfgSAAIXFgY14ymoxi5puXGLtY3XAEPgwJAAAzr5tlLJe/yL/xE2AxoZtlHPe+/ibCxEeHmBIBD8PcCWc2FdT41K9t1m77348TpAAELiyQAIfBk+AHLU2inOzbjaPBcFd3t+BrRctlHPe/z4/I1sR4oCQABlhf3an7AYX92p+wAYj7pfzR/uRDpXqSeaSUuKVrPdb3JxH3S/mj/AHI1A5o4WEU0s1ne63b720RZ0FL7UpN2tdv53/wbgAgAAM5ylFfDBy9mkaADHaVPRl3LUpVnVnSnHYS3xa3yR0lZtpbgEN0UvJFjPOxnYFKmZVYSjDNZNWTS8idpU9GXctSc7vxROdgV2lT0Zdy1CqVPQl3LUtnZGd+aAjaVPRl3LUOpU9GXctSdo/NDO/NARtKnoy7lqNpU9GXctS2djPICu0qX+5l3LUbSp6Mu5ak53fihtH5oCNrU9GXctQqlSy+ol3LUnaPzRKm7cUBXaVPRl3LUbSpf7mXctS2eRGd+aAjaVPRl3LUbSp6Mu5ak7R+aG0fmgIVap6Eu6Oo2lT0Zdy1JU35onPICrqVLfcy7lqNpU9GXctSXN24obR+aAjaVPRl3LUbSpf7mXctSdo/NDO78UBG0qejLuWo2lT0Zdy1LZ2M7AqqlS33Eu5ajaVPRl3LUlVH5obR+aAh1am76mXdHUbSp6Mu5ak53fiic8gK7Sp6Mu5aja1PRl3LUtnkRnfmgI2lT0Zdy1IdSpZ/UyX+5alto/NBzfmgI2lT0Zdy1G0qejLuWpbPIZ5AV2lS/3Mu5ajaVPRl3LUnO78UNo/NARtKnoy7lqFWqW+5l3R1J2j80FN24oCNpU9GXctQ6lT0Zdy1LZ5EOb+QEbSp6Mu5ajaVPRl3LUtnYzsCu1qXf1Mu6Oo2lT0Zdy1JzvzROdgVdSpb7iXctRtKnoy7lqS5uxOdgV2lT0Zdy1JhOUn8UHD3adyc7Izu/gBqDNSbaNAMsL+7U/YDC/u1P2AEYn7r/AHR/uRVyk6s/jyqDSt4O/mXxH3S/mj/cizhGUlJxTkuDtvQGEMQ0kpK/m7+9v0IeIkpQbikpX3J38Fa/kdCpQTTUIprg7cCFRglZQil7AaIBbkAABWSk18DSfzVwLFKhXLX9Sn+W9StSNbd9ZT7HqBIM7VvUh2PUWrepDseoGniDO1b1KfY9RlrepDseoGhhSpU5Rk5U4Nuct7ivNl7VvUh2PUmnFwhZtN3bulbiwGxpelDtRSrSpxjFxpwTzx3qK8zYpUi5wsmk7pptX4MC4M7VvUh2PUWrepDseoFckJ4ipmhGVox4q/mX2NL0qfaiIQkpylOSbdluVuBoBnKjSyv6qHB/womj9zT/AJV+hZ7015ozjCrGCiqkLJW+w9QNTKrGMqtJSipK8tzV/Am1b1Idj1ChN1IynOLUb7lG3+QJ2NL0qfahsaXpQ7UXAGdBKKmkkkpy3I0MlCpFyyzik5N743/yTat6kOx6gRiN9CSfy/VFnRpX+6h2orOnVnHLKpC27hD/AJNQKbGl6VPtRWEIwxElGMYrIuCt4s1M5Qm6maEor4bNON/8gaAztW9SHY9Rat6kOx6gUoUqToU26cG3Fb3FGmxpelT7UTTjkpxje9la5YDGVOEKlJxhGLzcUkvBmxSpFyyuMknF33q/gRat6kOx6gaGMacJVKrlCMnn4uKfgi1q3qQ7HqTTg45nKSbk77lYBsaXpU+1GdelTVCo1Tgmo8VFG5WpHPTlG9rq1wLAztW9SHY9Rat6kOx6gROEZ4iKlFSWR8VfxLbGl6UO1ERhPaZ5zi/hsrRt4+5oBRUaV19VT7UVw+6hFLwv+pqZQhUhHLGpCy84PUDUGdq3qQ7HqLVvUh2PUDQGdq3qQ7HqLVvUh2PUDTxBnat6lPseotW9SHY9QNAZ2q+pDseotW9SHY9QNAZ2repDsepaKmn8cov2jb/IF4/aRqZR+0vc1Aywv7tT9gML+7U/YAMR90v5o/3I1McT91/uj/cjCaW2qWT2l45Hb5LxA7QcW1qyq2vJRU1vt82rfoaYepOdSamnZWs2ree4DpAAAAACJWs2ySHwYFFOPk+1k54+T7WI/C8r/Ayde2IVPK8vByt4kGmeN/8A8snPHyfay3iiQKZ4+T7WFJZW91izMn9u/wDDff7gXzx8n2shzj5PtZjia0qWXKk7puz8beHE6PACM8fn2sZ4+T7WXAFE027L+gzxvb/BWo2ndcX+hFSWzotxtu8wL54+T7WFONuD7WcrxmSMnNJpRTVnZu99DSlWc60oZUopbt+/jYaNs8fJ9rIzRbW7qjQzqcPn4e4E5op2a6IZ4+T7WRDdH5+PuYRxVopzWZuVvh4IDdTj5PtZOePk+1nPHFWlllB3tJ7vk3oWoV3VnNWSSStZ3uNGrnG3DqiW1HjboTJJxae8pB3bb4rh7eYFs8fJ9rIzxvwfazCeIcJSTS+Fu6vbdusb05Z4qVrXQE54+T7WHOPk+1lyGBVSWVOysM8fJ9rKL7f+nw9yk6so11BWaaTt4veBq5R8v/iyc8fJ9rOf6ZHkkaUK+1bWVxtv3gaZ4+T7WItO9kXMZ7pbvHj7eYF1OP8A4Qc424PtZnVqKnku4qLlZtu1tzMqmLdpqnDM4u292T46AdOePk+1jPHyfayKUs9OMnbek9zuaAZqScty6onNHy/oRUv4fa8GUnPZ4eU4rfGN0n5gaZ4+T7WQpxtwfaznWJkovPHer7uHjbf5FfpbytqC8GrvweW/9wHXnj5PtZDnHyfay6Ik7K4Fc8b239rJzx8n2sQT4viy40Z543f/ANWTnj5PtZZcXuJAo5xtwfaxnj5PtZZ8GSuAFM8fJ9rCak9y6ouR4rcBNl5AAoywv7tT9gML+7U/YAMR90v5o/3I0sZ1oOVO0bXumr8NzuRfEctLq9ANbEoxviOWl1egviOWn1egGwMb4jlp9XoL4jlpdXoBsDG+I5afV6C+I5afV6AbC1zG+I5afV6C+I5afV6AaSinxI2a5pdSl8Ry0+r0F8Ry0+r0EF8i85dSci5pdTO+I5aXV6C+I5aXV6Eg0yLml1CgkreBnfEctLq9BfEctLq9BBfZrzl1GzXNLqUviOWl1egviOWl1egg0yf6pdSNmuaXUpfEctLq9BfEctPq9BBooJO93f5kbNebX4lL4jlp9XoL4jlp9XoWC+zXnLqNmuaXUpfEctPq9BfEctPq9BBpkXNLqMiTvdv3ZnfEctLq9BfEctLq9CQaOCbvdr2ZGzXnLqUviOWn1egviOWl1ehRfZrzl1GzXNLqUviOWl1egviOWl1ehILummrNyf4kuCfn+BnfEctLq9BfEctLq9Ci0qUZKzba9ydmr/al1KXxHLT6vQXxHLT6vQQaZP8AVLqMi5pdTO+I5aXV6C+I5aXV6Eg0yK1vAjZrml1KXxHLT6vQXxHLT6vQsF9mvOXUbNc0upS+I5aXV6C+I5aXV6Eg0yLml1Cglf58bmd8Ry0+r0F8Ry0+r0LBfZq3GXUbNecupS+I5afV6C+I5aXV6Egvs1zS6k5FzS6md8Ry0ur0F8Ry0ur0EGigk73b92Q6abvdr2ZS+I5aXV6C+I5aXV6CC0qMZpqTk0/C4VJJWTkkvC5W+I5afV6C+I5afV6Fgvk/1S6jZrxbfuyl8Ry0ur0F8Ry0ur0JBskDG+I5afV6C+I5afV6FG1gY3xHLT6vQXxHLT6vQDbiDG+I5afV6C+I5afV6AbC28xviOWn1egviOWn1egGwMb4jlp9XoL4jlpdXoBOF/dqfsCaMdlSjCTV0t4A0KKcZNpSTcdzSfAmTtF78u7j5HlRqXnVcW6sZ1MsbxTjJ2911A9RTi5ZcyzeV95e++x5eCnKOyg45c8p2tBb7N3V7m9aUJ14KUqeVP7Smoyg1+qA6ozjNXhJSV7XTEqkYOKlJJydlfxOTBV6UcLDNUim23a+/e2Ux9RKtSSqSzKX2YWTW5+LA7s8c7hmWZK9r7yZSjCLlJpJcW2eTeNSvOObdG1263hy38jpxMpOlRUVCcW18Oe+Z+C+a8fwA7JVIRkoykk3wTfEmUowi5SkopcWzy6kpOpSVSaqJwmm9k7P+pvXb/6XO7b+Hc5Nb1f5bgOzaU+ePVCFSE75JRlbc7O9jypKG3fxtQnZycEt1vBefujuwTi54hwtl2m6yt4IDqAAAAAAAAAAAA5m5VMTKmpuKhFN24tv/wAAdNwcVdTpUab2s3JTim/NOXj+BvUrKm1G0pSe9Rit9gNhc5/pMHGLjebleyS37uPsZ1a2Z4WpCUlCcm34XWVsDsBnSntKanZpNXSfE0APcQpKSumn7Mk5f2eksKrJL4pf3MDqFzgqYqpCbyqMoqai2lu3vz8+po3V+nqOdZdm3bL8/cDrKqcXJxTV14XOfbVZzmqUYuMJqLvxfmY1ZypYnFVIZfhpRk7rjxA9AEReaKfmrkgAc2NlKNJOEnF54q6+bsVVSVKvKnKTlBQzp2u1v3+4HWDnhiY1JShFSc4q9t2pGGryrUnOcHGzf9GB0g54YqE6mzTak1mV/L/H4nQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQ1dNWv7nBLC1al81KFnWzOObdbLbyPQAHn0MHOjVou0FGDldqT8eCsb1FUrKUIx2cXuc3xt8kdIA5HRnQy/R5fArJ05Pdb5PwJrxqOvTnGGaEG5Oz3vda1jqAHn/RaredZUlJzVOe+7+bX/ACb1aLq5G401Zb1KGZr2OkAefUwlStTipyisjvGLXH5O3h8kaVKdargp03TjGb3KKe61zsAHJOjWlOMl8LTvbaXXRovhoTjOtKaSzzurO/gjoAAAAAAAAAAAADnlSnGu6tOzzRtJSduHBnQAOWvRqzpRjFqTUlJuTtwd/ImVOptY1o5c2XK4t7uN+J0gDjhhp0pRqRkpTWbMnuTu7/gMRhpV1SjNxcYybl4brcEdFKe0jmtbe10ZoBjh41IUoxqtOS3XT4mwABnNDCqEMiqTcL3yu2/ffyOkAcssFBxlHaTSc89k+DvcvLDxlNTcpqSjlbT4o1nJQjmk7IsgMHh4ucpJyWf7ST3SInhYTdRtyW0iotK3A6ABWMcsVG7dlbeWAA58VSnVpKMMt8ye9+TuZVMPVqqpPPGNSUcsUr2Svfj8ztAHJSoVIYjaZacYZFHLFvdvv5EU8PVhQnSU4xvmyyXG7Z1RkpXt4OzLAcVOhVjWpSUaUVCLi1Fvxtv4fI7QAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIbSV27IrtKfPHqimKSdFpq6uv1RfZ0+SPRANpT549UNpT549UNnT5I9ENnT5I9EA2lPnj1Q2lPnj1Q2dPkj0Q2dPkj0QDaU+ePVDaU+ePVDZ0+SPRDZ0+SPRANpT549UNpT549UNnT5I9ENnT5I9EBlh6kFRSc48ZePzZrtKfPHqjHDU4Oim4R4y8F5s22dPkj0QDaU+ePVDaU+ePVDZ0+SPRDZ0+SPRANpT549UNpT549UNnT5I9ENnT5I9EBliakHQklOPFePzNdpT549UZYmnBUJWhHivD5o12dPkj0QDaU+ePVDaU+ePVDZ0+SPRDZ0+SPRANpT549UNpT549UNnT5I9ENnT5I9EA2lPnj1Q2lPnj1Q2dPkj0RDpU+SPagM6FSC2l5x+2/E12lPnj1RlQpwe0vCP234Guzp8keiAbSnzx6obSnzx6obOnyR6IbOnyR6IBtKfPHqhtKfPHqhs6fJHohs6fJHogG0p88eqG0p88eqGzp8keiGzp8keiAbSnzx6obSnzx6obOnyR6IbOnyR6IAqkG7KcW/cuc9anCKg1CKeePBfM6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADHE/cP3j+qNiJK6szKjJ2cJO8o7nfxXgwNjOdRQst7b4KKuzQ55PZVZTlfLJLele1vAC9Oqptq0oteElY1OdSVSrBwvaF7u1vDgdAAAAA+AMcTTdXD1KcWk5RaTYGEMdhI1VQjUV78fC/udp8tHBYiVbZbOSle17bup9PBOMIpu7StfzAsAAAAA5cbiKNGmo1puOZ7kldl8NiaWJg50pXV968UeV+2MLWliFVjGU4NJblexr+xsNVpupVmnGMlZJ+PzA9cAAAAAKVakKVOU5yUYx4tlzg/a1GrWwqVJNuMruK8QNMP+0MPiJ5Kc/i8mrXOs+Y/Z9CrVxUHTTtCScpeR9OAAAAAADCWJpxnlu7eMrfCvdmlROVOUU7NppPyMVXpwSg4yUluyqL/oB03BlQi400nx3/hv4GoGWI+zD+eP6mphJbWso/ww+J+/gbgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwrfA1VXCO6XzRuQ1cCU00DCj8EnSf8ADvj80bgAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAABSpNQg5Pfbw8y7MX9ZWUf4Yb37+AFqMHCHxfae+T+ZoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABjVTspxXxR3r5+aNISUoqUXdPgyzMIfV1XB/ZleUf8AKA3AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUqTUIOT8PDzIowcYfFvk98n8ykvjrRj4Q+J+/gv8m6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAZ1YZ47naSd4v5mgApSnngpWtfivIuYP6utfhCf9Jf8m4GdSapq76JXbIhWUpZXGUX4Zla5FRWnCdm1G90vn4/9+ZWUlWcY07u0k3K3CwHQAgAAAFKk404Oc2oxW9tnPQ/aOHr1NnCfxPhdWuR+0cNPE4bJBpSTuk/H5HlYX9m4mVeOeDpxi7uT/wAAfQgAAAABnOqoSUcspSfhFXNDn30pzbjKSk73ir2+QGlOoqi3XTXFNWaNDCCcqu0acVlsk+L+ZuAAAAAACk5qEXKTSit7b8C5y4/DyxOFlTg7S4q/iBWj+0sNWqKnCbzPhdWudiPm6P7NxM6yjKm6aT3yfBH0i4ACs5qEXJ8ErljCX1lZQ/hj8T9/DUC1GDjC8vtSd5e5qAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUqQU4OL8f6FaM80Xm+1F2l7mpjKnLO5wkotqzurpgbWFjK1f1Kf5b1Fq/qU/y3qBqDK1f1Kf5b1Fq/qU/wAt6gagytX9Sn+W9Rav6lP8t6galbq7Sauilq/qU/y3qZQjW29X6yF/h/gfl7gdQMrV/Up/lvUWr+pT/LeoGoMrV/Up/lvUWr+pT/LeoGosZWr+pT/LeotX9Sn+W9QNQZWr+pT/AC3qLV/Up/lvUDUGVq/qU/y3qLV/Up/lvUDUGVq/qU/y3qLV/Up/lvUDUGVq/qU/y3qLV/Up/lvUC2dbTJbfa5c5bVvpS+shfJyPz9zXLX9Sn2PUC9SShByfBFKMHGF5fak7y9yrp1JOOacWk72ULX/qboAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUqTVOnKcuEVd2AuY0v3it/t/QpPEThBylRlujmtddPcrUxEadNV4QzqcczadtyQHWDCFe84wnFxlJXjvumbgAAAAAAAAAAAAbFwAIuLgY/8Aq1/7b/U3Isr3JAAXIuBIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABz42nKphpqCu9zt52dzoAHn1a8qkp2knRtF3y+N+FymLhKltIpXpzjOS+TtwPTsLAcSarYjDunvjTTcpeG9Wt7naLAAAAAAAAAAAAObG0lWwtSNru11uvvRzVZxlRqYiMVfZxhFrwvx3/AInpNXOenhadOhKik3CV73YGeJpwoUJ1acVGcINJrczSGHpQlCSSUoqyfi93j5kxw8crVRupuy/F5E06Kp2vOU8qtHN4AavhuVznp1ajrTTpyS3cZLcdJRwi825fFufzA4qFKlSqUlOhCM5ppSTu27b7kUKcLLDuCtTrSdreHFP+qOmGGjGcJZm1BWhGytEtGjCOInWV80kk9+7/AL0A2AAAAAAAAAAAAAAAAAAAAAAAB//Z
